
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <script src="/js/vendor/modernizr.js"></script>
  <meta charset="utf-8">
  <title>Apache Jackrabbit - Manipulating Nodes in the Repository | CodeAffectionado</title>
  <meta name="author" content="jeff.downing@latchd.com">

  
  <meta name="description" content="Apache Jackrabbit - Manipulating Nodes in the Repository August 19, 2013 --> The purpose of this lab is to enhance our previous tutorial. In that &hellip;">
  

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.codeaffectionado.com/labs-and-tutorials/apache-jackrabbit/manipulating-nodes">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="CodeAffectionado" type="application/atom+xml">

  <script src="/js/vendor/jquery.js"></script>
  <script src="/js/vendor/fastclick.js"></script>

  <script src="/js/foundation.min.js"></script>

  <script src="/javascripts/octopress.js" type="text/javascript"></script>


  <script>

  $(document).ready(function(){
    $(document).foundation();
  });

  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Roboto:300,300italic,500,500italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Ubuntu:500' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43174506-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body  >
  <header role="banner" class="top-header">
</header>
  <nav role="navigation"><ul class="subscription hide" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>


  <nav class="top-bar" data-topbar>

    <!--Uncomment CodeAffectionado below if you would like a title area on the left side of the nav bar-->

    <ul class="title-area">
        <li class="name">
          <h1><a href="/">CodeAffectionado</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
    </ul>


    <section class="top-bar-section">

      <ul class="main-navigation right">

          <li><a href="/">Home</a></li>
      	  <li class="has-dropdown">
            <a href="/labs-and-tutorials">Tutorials</a>
        		<ul class="dropdown">
        		   <li><a href="/labs-and-tutorials/osgi/">OSGi</a></li>
        		   <li><a href="/labs-and-tutorials/apache-jackrabbit/">Apache Jackrabbit</a></li>
        		</ul>
          <li>

          <!--<li class="has-dropdown">
            <a href="/no-sidebar">No Sidebar Page</a>

            <ul class="dropdown">
              <li><a href="/no-sidebar/left-sidebar">Left Sidebar Page</a></li>
              <li><a href="/no-sidebar/right-sidebar">Right Sidebar Page</a></li>
              <li><a href="/no-sidebar/example-formatting">Example Formatting</a></li>
            </ul>

          </li>-->

          <li><a href="/blog/archives">Archives</a></li>

      </ul>

    </section>
  </nav>


</nav>
  <div id="main">
    <div id="content" class="row">
        <div class="small-12 medium-12 large-8 columns">
  <article role="article">
    
    <header class="page-header">
      <h1 class="page-title">Apache Jackrabbit - Manipulating Nodes in the Repository</h1>
      
      <!--<p class="meta">








  


<i class="fa fa-calendar-o"></i> <time datetime="2013-08-19T15:05:00-04:00" pubdate data-updated="true">August 19, 2013</time> </p>-->
    </header>
    
    <p>The purpose of this lab is to enhance our <a href="/labs-and-tutorials/apache-jackrabbit/starting-from-scratch/">previous tutorial</a>. In that lab we learned how to setup our maven dependencies and write code against a TransientRepository. The purpose of this lab is to to continue exploration of the JCR APIs and see how node manipulation is done in Apache Jackrabbit.</p>

<h2 id="id-ef1e6887c579ba81dcedc3f4e3793cd2">1 Audience</h2>

<p>The core audience is seated in a classroom environment. Readers performing this tutorial have just finished previous tutorials and should be familiar with how the lab will work. Most will be at work or seated in a place where they can read from the tutorial page and code in their own editor.</p>

<h2 id="id-3b878279a04dc47d60932cb294d96259">2 Overview</h2>

<p>Working with Apache Jackrabbit only in code form can make it a bit tough to visualize the changes you are making to the node repository. There are visual tools in products such as Apache Sling and CRX which take care of this from their perspective. But, we will need to create a console method to &ldquo;dump the node tree&rdquo; to help us visualize what is happening.</p>

<p>Because it&rsquo;s difficult to see your changes, you may end up creating a bunch of garbage and want to start all over again. That&rsquo;s really easy to do. Just go into your project directory and remove the repository directory and all of its contents and re-run your project again. If the repository does not exist, It will be re-built each time you run the application.</p>

<p><em>You can&rsquo;t hurt your application by removing the repository directory, the repository.Xml files or the derby.log file. If you want a fresh start, kill em. The next time you <strong>mvn compile exec:java</strong> you app they will be reproduced.</em></p>

<p>Lastly, if you came directly into this tutorial and didn&rsquo;t do the first one, don&rsquo;t fret. The starter project is on GitHub. The following clone should get you started from where we left off:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting The Previous Lab</span><a href='https://github.com/PlasmaTrout/jackrabbit-training-lab1'>GitHub</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git@github.com:PlasmaTrout/jackrabbit-training-lab1.git
</span></code></pre></td></tr></table></div></figure></notextile></div>


<h2 id="id-b18ba6f0139d0c1f8ceb43f86aff1e20">3 Wipe Our Previous Code</h2>

<p>We previously just made some called to getDescriptor a few times. Let&rsquo;s get that out of the way so we end up with a fresh start that looks something like:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Main Starting Point</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span> <span class="kd">throws</span> <span class="n">RepositoryException</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Repository</span> <span class="n">repository</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TransientRepository</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">repository</span><span class="o">.</span><span class="na">login</span><span class="o">(</span>
</span><span class='line'>        <span class="k">new</span> <span class="nf">SimpleCredentials</span><span class="o">(</span><span class="s">&quot;admin&quot;</span><span class="o">,</span><span class="s">&quot;admin&quot;</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()));</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// Put Our New Stuff Here</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">session</span><span class="o">.</span><span class="na">logout</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<h2 id="id-e474292ae180499b1c107ea9b1f90af3">4 Adding A Try Catch To Our Work</h2>

<p>The JCR is all about the manipulation of nodes and properties. Due to safety in the API, the methods that do this have the potential to cause some exceptions that may cause your application to close. It&rsquo;s hard to determine what will happen to the session when the application dies. If there are other sessions open, the repository won&rsquo;t necessarily expire the sessions. The last session may stay open after your code threw an exception and exited. On the other hand, the application may have only session open. When the application dies, the repository will just simply expire the session shut down.</p>

<p>This won&rsquo;t be that big of a deal in our examples, since they are just command line tinkering. However, in a much larger application having sessions logged in as &ldquo;admin&rdquo; just hovering about may not be a good idea. In order to combat this, lets add a simple pattern to guarantee that the session gets logged out when this happens:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Session Logout Exception Handling Style</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span> <span class="kd">throws</span> <span class="n">RepositoryException</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Repository</span> <span class="n">repository</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TransientRepository</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">repository</span><span class="o">.</span><span class="na">login</span><span class="o">(</span>
</span><span class='line'>            <span class="k">new</span> <span class="nf">SimpleCredentials</span><span class="o">(</span><span class="s">&quot;admin&quot;</span><span class="o">,</span><span class="s">&quot;admin&quot;</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()));</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">try</span><span class="o">{</span>
</span><span class='line'>        <span class="c1">// code goes here</span>
</span><span class='line'>    <span class="o">}</span><span class="k">finally</span><span class="o">{</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">logout</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Of course having a password of admin:admin is not the most secure method either. We won&rsquo;t dive into changing this just yet.</p>

<h2 id="id-ab9ac6965559fce1c1cd9e6c623c5aac">5 Getting The Root Node</h2>

<p>After a login to a repository, a coder may have a specific place in the hierarchy they would like to start from. They need to get a reference to a node to get started. There are a few ways to accommodate that. One of which is to get the root node, that is the first and most top level node in the tree. When we first login, it&rsquo;s the only node that guaranteed to be there anyway. Remember to put this in your try section:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting The Root Node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Node</span> <span class="n">root</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getRootNode</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>This convenient method always allows us to get the root rather quickly. Now let&rsquo;s add some nodes to the root node.</p>

<h2 id="id-ef757eb615d28f3f9bb68d9b758eec49">6 Adding Some Nodes</h2>

<p>Adding nodes, once you have a reference to a node your would like to add them to, is pretty simple. Let&rsquo;s add two nodes to our root node.</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Adding Two New Nodes</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Node</span> <span class="n">hello</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">Node</span> <span class="n">world</span> <span class="o">=</span> <span class="n">hello</span><span class="o">.</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeB&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">world</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span><span class="s">&quot;Hello, World&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Notice how each addNode returns back the node that was added. This means we can chain this whole statement into one statement such as:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Adding Two Nodes Chain style</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">root</span><span class="o">.</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeB&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span><span class="s">&quot;Hello World&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Don&rsquo;t run this just yet. If you do you may end up with a new node each time your run it since Jackrabbit has duplicate nodes turned on by default. Let&rsquo;s finish all of these sections before we run it.</p>

<h2 id="id-04f577850754c55fb860844293920d01">7 Getting A Node From A Node</h2>

<p>There are a few ways to get the node back that you just created. The first is to use the root node to get the information back. Then we only have to worry about the path relative from root such as:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting A Node From The Root Node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Node</span> <span class="n">ourNode</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;nodeA/NodeB&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNode</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNode</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<h2 id="id-86895179922f435aaf4e0b744643d1ed">8 Getting A Node From The Session</h2>

<p>We could use the session to get Nodes as well. One approach could be use to the session to just get the node like our top example:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting A Node Without The Root Node Again</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Node</span> <span class="n">oneMoreTime</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;/nodeA/nodeB&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">oneMoreTime</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">oneMoreTime</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Another method is to use the session to find the correct item and cast it back. Lets add another set of lines:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting A Node Without The Root Node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Node</span> <span class="n">ourNodeAgain</span> <span class="o">=</span> <span class="o">(</span><span class="n">Node</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="s">&quot;/nodeA/nodeB&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNodeAgain</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNodeAgain</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>The first question after seeing this might be, &ldquo;Whats an Item and how&rsquo;d that cast work?&rdquo;. <a href="http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/Item.html">Item</a> is an interface that both Node and Property as sub-interfaces of. This allows you to use it for either Nodes or Properties directly from the session, but makes you cast.</p>

<p>Which one should you use? Well, it&rsquo;s really up to your preferences, but getItem comes with a warning in the javadocs:</p>

<blockquote><p>This method should only be used if the application does not know whether the item at the indicated path is property or node. In cases where the application has this information, either getNode(java.lang.String) or getProperty(java.lang.String) should be used, as appropriate. In many repository implementations the node and property-specific methods are likely to be more efficient than getItem.</p></blockquote>

<h2 id="id-a62ce199de22b7da51491bb9dcb20eee">9 Getting Properties</h2>

<p>Getting a property from a node takes two forms. One is really just a shortcut for another. We won&rsquo;t code the following examples as they point to a node named myNode and we haven&rsquo;t created it, so just look at them for now:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting A Property Using The Value Shortcut Method</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Property</span> <span class="n">property</span> <span class="o">=</span> <span class="n">myNode</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">property</span><span class="o">.</span><span class="na">getString</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Notice how getProperty returns back a property. That property object is used to coerce the value back out. But everything is not as it seems with that example. There is a special <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Value.html">Value</a> object for the values contained in the property and really that code was just a shortcut for:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Getting A Property The Long Way</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">Property</span> <span class="n">property</span> <span class="o">=</span> <span class="n">myNode</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">Value</span> <span class="n">propValue</span> <span class="o">=</span> <span class="n">property</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
</span><span class='line'><span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">propValue</span><span class="o">.</span><span class="na">getString</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>We didn&rsquo;t mention it at the time, but all of our prints in the getting nodes section are retrieving the property back from the node. A call to getProperty returns back a <a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-2.0/javax/jcr/Property.html">Property</a> object.  Once you get this back, you ask it for what data type you want and it tries to coerce that type back for you. For instance if you store a long and call getString on the property containing it, it, it will try to coerce a string back for you.</p>

<h2 id="id-31ccd0c31679b49921fcc69d2148694d">10 Removing Nodes</h2>

<p>Removing nodes is easy in the API. All it takes is the following code added to the bottom of your try block:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Deleting A Node</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">root</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">remove</span><span class="o">();</span>
</span><span class='line'><span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Remember to call save on the session every time your modify something. When you are modifying nodes, you changes are going in a special transient storage location. Until saved it called, they haven&rsquo;t happened in the workspace. If your session dies, your changes may die with it.</p>

<h2 id="id-ae8e909ce36f7594749c2a184fdef7ae">11 Running Our App</h2>

<p>We should have a main method now that looks something like the following:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Full Example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span> <span class="kd">throws</span> <span class="n">RepositoryException</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Repository</span> <span class="n">repository</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TransientRepository</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">repository</span><span class="o">.</span><span class="na">login</span><span class="o">(</span>
</span><span class='line'>            <span class="k">new</span> <span class="nf">SimpleCredentials</span><span class="o">(</span><span class="s">&quot;admin&quot;</span><span class="o">,</span><span class="s">&quot;admin&quot;</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()));</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">try</span><span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Node</span> <span class="n">root</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getRootNode</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">root</span><span class="o">.</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeB&quot;</span><span class="o">)</span>
</span><span class='line'>                <span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span> <span class="s">&quot;Hello World!&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Node</span> <span class="n">ourNode</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;nodeA/nodeB&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNode</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNode</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Node</span> <span class="n">ourNodeAgain</span> <span class="o">=</span> <span class="o">(</span><span class="n">Node</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="s">&quot;/nodeA/nodeB&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNodeAgain</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourNodeAgain</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Node</span> <span class="n">oneMoreTime</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;/nodeA/nodeB&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">oneMoreTime</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">oneMoreTime</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">getString</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">root</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">remove</span><span class="o">();</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span><span class="k">finally</span><span class="o">{</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">logout</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Let&rsquo;s execute this with a <strong>mvn compile exec:java</strong> and see what we get. We should get:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Our First Output</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>/nodeA/nodeB
</span><span class='line'>Hello World!
</span><span class='line'>/nodeA/nodeB
</span><span class='line'>Hello World!
</span><span class='line'>/nodeA/nodeB
</span><span class='line'>Hello World!
</span><span class='line'><span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</span><span class='line'><span class="o">[</span>INFO<span class="o">]</span> BUILD SUCCESS
</span><span class='line'><span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</span></code></pre></td></tr></table></div></figure></notextile></div>


<h2 id="id-44943007815fdadd3ffafecbf2cbf10d">12 A Better View Of Whats Going On</h2>

<p>Let&rsquo;s create a static method really fast in our project that will dump all of the nodes and properties. This will show a few ways to iterate the nodes. Paste this under you main method:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Dumping Out A Node Structure</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">dumpToConsole</span><span class="o">(</span><span class="n">Node</span> <span class="n">node</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">RepositoryException</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">hasProperties</span><span class="o">()){</span>
</span><span class='line'>        <span class="n">PropertyIterator</span> <span class="n">props</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">getProperties</span><span class="o">();</span>
</span><span class='line'>        <span class="k">while</span><span class="o">(</span><span class="n">props</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
</span><span class='line'>            <span class="n">Property</span> <span class="n">property</span> <span class="o">=</span> <span class="o">(</span><span class="n">Property</span><span class="o">)</span> <span class="n">props</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">if</span><span class="o">(</span><span class="n">property</span><span class="o">.</span><span class="na">isMultiple</span><span class="o">()){</span>
</span><span class='line'>                <span class="n">Value</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="n">property</span><span class="o">.</span><span class="na">getValues</span><span class="o">();</span>
</span><span class='line'>                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">property</span><span class="o">.</span><span class="na">getPath</span><span class="o">()+</span><span class="s">&quot;=&quot;</span><span class="o">+</span><span class="s">&quot;[&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>                <span class="k">for</span><span class="o">(</span><span class="n">Value</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">){</span>
</span><span class='line'>                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">getString</span><span class="o">()+</span><span class="s">&quot;,&quot;</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;]&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">property</span><span class="o">.</span><span class="na">getPath</span><span class="o">()+</span> <span class="s">&quot;=&quot;</span><span class="o">+</span><span class="n">property</span><span class="o">.</span><span class="na">getString</span><span class="o">());</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">NodeIterator</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">getNodes</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">while</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">()){</span>
</span><span class='line'>        <span class="n">Node</span> <span class="n">next</span> <span class="o">=</span> <span class="o">(</span><span class="n">Node</span><span class="o">)</span> <span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">dumpToConsole</span><span class="o">(</span><span class="n">next</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Now we can make our main method look like:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Cleaning Up Our Example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span> <span class="kd">throws</span> <span class="n">RepositoryException</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Repository</span> <span class="n">repository</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TransientRepository</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">repository</span><span class="o">.</span><span class="na">login</span><span class="o">(</span>
</span><span class='line'>            <span class="k">new</span> <span class="nf">SimpleCredentials</span><span class="o">(</span><span class="s">&quot;admin&quot;</span><span class="o">,</span><span class="s">&quot;admin&quot;</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()));</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">try</span><span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Node</span> <span class="n">root</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">getRootNode</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">root</span><span class="o">.</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">addNode</span><span class="o">(</span><span class="s">&quot;nodeB&quot;</span><span class="o">)</span>
</span><span class='line'>                <span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span> <span class="s">&quot;Hello World!&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">dumpToConsole</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">root</span><span class="o">.</span><span class="na">getNode</span><span class="o">(</span><span class="s">&quot;nodeA&quot;</span><span class="o">).</span><span class="na">remove</span><span class="o">();</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">save</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span><span class="k">finally</span><span class="o">{</span>
</span><span class='line'>        <span class="n">session</span><span class="o">.</span><span class="na">logout</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>When we run this now, we can see that along with our nodes at the bottom we see some of the of jcr:system nodes (akin to system level settings) and some policy nodes (similar to ACL permissions). They are found off of the root and typically stay out of sight and out of mind. Our nodes are at the end of this print out:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Our Node Dumper</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>/nodeA
</span><span class='line'>/nodeA/jcr:primaryType<span class="o">=</span>nt:unstructured
</span><span class='line'>/nodeA/nodeB
</span><span class='line'>/nodeA/nodeB/message<span class="o">=</span>Hello World!
</span><span class='line'>/nodeA/nodeB/jcr:primaryType<span class="o">=</span>nt:unstructured
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>We should add some code to ignore properties on jcr:system and rep:policy node types. This will reduce the clutter:</p>

<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Ignoring System Properties</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">if</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;jcr:system&quot;</span><span class="o">)</span> <span class="o">||</span> <span class="n">node</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;rep:policy&quot;</span><span class="o">)){</span>
</span><span class='line'>    <span class="k">return</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>


<p>Now when we run again, we can see our changes without a plethora of properties that belong to the system.</p>

<p>We will use this dump method a few times throughout these tutorials so keep it on hand. I will try to keep the <a href="https://gist.github.com/PlasmaTrout/6274163">GIST</a> updated on GitHub.</p>

    
      <footer>
        <p class="meta">
          
          








  


<i class="fa fa-calendar-o"></i> <time datetime="2013-08-19T15:05:00-04:00" pubdate data-updated="true">August 19, 2013</time> 
          
        </p>
        
          <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.codeaffectionado.com/labs-and-tutorials/apache-jackrabbit/manipulating-nodes/index.html" data-via="mrjepp" data-counturl="http://www.codeaffectionado.com/labs-and-tutorials/apache-jackrabbit/manipulating-nodes/index.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

        
      </footer>
    
  </article>
  
    <section>
      <h1>Comments</h1>
      <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </section>
  
  </div><!--.columns-->
  
  <aside class="sidebar small-12 medium-12 large-4 columns">
    
      
  <section>
  <h1>Tutorial Steps</h1>
  <ol style="margin-left: 1.3em;"><li style="list-style:inherit;"><a href="#id-ef1e6887c579ba81dcedc3f4e3793cd2">Audience</a></li><li style="list-style:inherit;"><a href="#id-3b878279a04dc47d60932cb294d96259">Overview</a></li><li style="list-style:inherit;"><a href="#id-b18ba6f0139d0c1f8ceb43f86aff1e20">Wipe Our Previous Code</a></li><li style="list-style:inherit;"><a href="#id-e474292ae180499b1c107ea9b1f90af3">Adding A Try Catch To Our Work</a></li><li style="list-style:inherit;"><a href="#id-ab9ac6965559fce1c1cd9e6c623c5aac">Getting The Root Node</a></li><li style="list-style:inherit;"><a href="#id-ef757eb615d28f3f9bb68d9b758eec49">Adding Some Nodes</a></li><li style="list-style:inherit;"><a href="#id-04f577850754c55fb860844293920d01">Getting A Node From A Node</a></li><li style="list-style:inherit;"><a href="#id-86895179922f435aaf4e0b744643d1ed">Getting A Node From The Session</a></li><li style="list-style:inherit;"><a href="#id-a62ce199de22b7da51491bb9dcb20eee">Getting Properties</a></li><li style="list-style:inherit;"><a href="#id-31ccd0c31679b49921fcc69d2148694d">Removing Nodes</a></li><li style="list-style:inherit;"><a href="#id-ae8e909ce36f7594749c2a184fdef7ae">Running Our App</a></li><li style="list-style:inherit;"><a href="#id-44943007815fdadd3ffafecbf2cbf10d">A Better View Of Whats Going On</a></li></ol>
  </section>
<section>
	<h1>Lab/Tutorial Sections</h1>
	<ul id="recent_posts">
      <li class="post">
        <a href="/labs-and-tutorials/osgi/">OSGi</a>
      </li>
      <li>
      	<a href="/labs-and-tutorials/apache-jackrabbit/">Apache Jackrabbit</a>
      </li>
  </ul>
</section><section>
  <h1>Recent Posts <i class="fa fa-edit"></i></h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/05/13/setting-up-for-2015/">Set Up for 2015 (Videos and More)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/16/hey-whats-with-this-wordpress-site/">Hey? Whats With This Wordpress Site?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/16/new-osgi-tutorial-posted/">New OSGi Tutorial on Bndtools Posted</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/03/labs-and-tutorials-slash-apache-jackrabbit-slash-importing-xml/">The Most Important JavaScript Videos You Might Watch This Year</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/19/newest-osgi-tutorial-additions/">Newest OSGi Additions</a>
      </li>
    
  </ul>
</section>

<section class="googleplus">
  <h3>
    <a href="https://plus.google.com/114996005873710645329?rel=author">
      <i class="fa fa-google-plus-square"></i> 
      Google+
    </a>
  </h3>
</section>



    
  </aside>
  


    </div>
  </div>
  <footer role="contentinfo"><p class="text-center">
  <span class="copyright">
  	Copyright &copy; 2015 by jeff.downing@latchd.com
  </span>

  <span class="credit">
  	Powered by <a href="http://octopress.org" target="_blank">Octopress</a><br />
  	<span><a href="http://github.com/annejohnson/octofound" target="_blank">Theme</a> by <a href="http://feathers.io" target="_blank">Anne Johnson</a></span>
  </span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'aggrolearning';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.codeaffectionado.com/labs-and-tutorials/apache-jackrabbit/manipulating-nodes/index.html';
        var disqus_url = 'http://www.codeaffectionado.com/labs-and-tutorials/apache-jackrabbit/manipulating-nodes/index.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>






</body>
</html>
